<template>
    <section class="solutionPage" data-subTopAni>
        <div class="topArea">
            <h2 class="contentSize-padding"><span data-textAni='1'>전력거래 솔루션</span></h2>
            <div data-textAniParents="1" data-aniDelay="4" data-aniType="basic">
                <strong>
                    기업을 위한 재생에너지<br>
                    전력거래 솔루션
                </strong>
            </div>
            <div data-textAniParents="1" data-aniDelay="4" data-aniType="basic">
                <p>
                    <b>RE100 파트너사,</b><br>
                    장기적인 계약 이행을 위한 <b>‘기업 안정성’</b>과<br>
                    재생에너지 분야 <b>‘전문성’</b>이 중요합니다.
                </p>
            </div>
            <div data-aniType="basic" data-aniDelay="2">
                <ul data-styleIdx="1">
                    <li>
                        <mark>안정성</mark>
                        <p>
                            <mark>신한금융그룹</mark>과<br>
                            재생에너지를 위한 펀드 설정
                        </p>
                        <p>
                            재무 건전성에 기반한<br>
                            안정적인 장기계약 서비스 제공
                        </p>
                    </li>
                    <li>
                        <mark>전문성</mark>
                        <p>
                            글로벌 친환경 에너지<br>
                            솔루션을 제공하는 <mark>한화그룹</mark>
                        </p>
                        <p>
                            재생에너지 전문성으로 
                            기업별 전력 분석, 이행 방안 제시
                        </p>
                    </li>
                </ul>
            </div>
        </div>

        <div class="processArea contentSize-padding">
            <p>
                재생에너지 전력거래 전문 기업 테라와트아워가<br>
                <b>최적의 RE100 이행 솔루션</b>을 제안합니다.
            </p>
            <b class="case01">전력거래 솔루션 프로세스</b>
            <ul>
                <li>
                    <strong>문의 접수</strong>
                </li>
                <li>
                    <strong>
                        전력 수요 예측<br>
                        & 기술 검토
                    </strong>
                    <p>
                        사업장 전력량 및<br>
                        사용 패턴 분석
                    </p>
                </li>
                <li>
                    <strong>
                        RE100<br>
                        포트폴리오 제안
                    </strong>
                    <p>
                        직접 PPA<br>
                        제3자 PPA<br>
                        V.PPA
                    </p>
                </li>
                <li>
                    <strong>
                        재생E 조달<br>
                        및 이행
                    </strong>
                    <p>발전 자원 조달</p>
                </li>
                <li>
                    <strong>관리, 운영</strong>
                    <p>
                        RE100 이행 관리<br>
                        정기 리포트
                    </p>
                </li>
            </ul>
        </div>

        <div class="PPAArea contentSize-padding">
            <strong>직접 PPA</strong>
            <p>
                재생에너지전기공급사업자를 통해<br>
                발전사업자와 전기사용자가 전력을 직거래하는 계약 방식
            </p>
            <div>
                <b>장기적으로 안정적인 재생에너지 조달을 희망하는 기업</b>
                <b>#전력 다소비 기업</b>
                <b>#낮 시간대 전력 소비가 많은 기업</b>
            </div>
            <img src="../images/solution-PPAImg01.png" alt="직접 PPA 이미지">
        </div>
        <hr class="case01">
        <div class="PPAArea contentSize-padding">
            <strong>제3자 PPA</strong>
            <p>
                발전사업자와 한국전력, 한국전력과 전기사용자가<br>
                각각 계약을 체결하는 방식
            </p>
            <div>
                <b>#장기적으로 안정적인 재생에너지 조달을 희망하는 기업</b>
                <b>#전력소비량이 상대적으로 적은 기업</b>
                <b>#24시간 조업 기업</b>
            </div>
            <img src="../images/solution-PPAImg02.png" alt="제3자 PPA 이미지">
        </div>
        <hr class="case01">
        <div class="PPAArea contentSize-padding">
            <strong>V.PPA</strong>
            <p>
                전력 거래 당사자간 합의된 고정가격(SMP+REC)과<br>
                도매전력가격(SMP) 차액 정산을 통한 REC 거래
            </p>
            <div>
                <b>#RE100 단기 이행이 필요한 기업</b>
                <b>#안정적인 REC 조달을 희망하는 기업</b>
            </div>
            <img src="../images/solution-PPAImg03.png" alt="PPA 이미지">
        </diV>

        <div class="contractArea contentSize-padding">
            <p>
                <b>20년 장기계약 PPA,</b><br>
                안정적인 자원 조달이 가능한<br>
                테라와트아워와 함께하세요.
            </p>
            <ul data-styleIdx>
                <li>
                    <p>
                        재생에너지
                        <b>펀드 조성</b>
                    </p>
                </li>
                <li>
                    <p>
                        전력거래를 위한
                        <b>기업 안정성 확보</b>
                    </p>
                </li>
                <li>
                    <p>
                        원활한 발전자원 조달,
                        <b>최적의 발전소 매칭</b>
                    </p>
                </li>
            </ul>
        </div>

        <div class="expertArea contentSize-padding">
            <p>
                글로벌 태양광 시장을 선도하는<br>
                <b>한화그룹 재생에너지 전문가</b>가 함께합니다.
            </p>
            <ul>
                <li>
                    글로벌 태양광 시장을<br>
                    선도하는 한화그룹 경쟁력
                </li>
                <li>
                    사업개발, EPC, O&M<br>
                    다운스트림 전 영역의<br>
                    밸류체인 보유
                </li>
                <li>
                    글로벌 태양광 발전소<br>
                    1GW 관리 · 운영 경험의<br>
                    한화컨버전스
                </li>
            </ul>
        </div>
    </section>
</template>
<script>
export default {
    name: 'SolutionPage',
    data() {
        return {
            topClassName: '[data-subTopAni] .topArea',
            topElement: undefined,
            topContents: undefined,
            titleElement: undefined,
        }
    },
    methods : {
        init(){
            this.topElement = document.querySelector(this.topClassName);
            this.titleElement = document.querySelector(`${this.topClassName} h2`);
            this.topContents = document.querySelectorAll(`${this.topClassName} > div`);
            this.titleElement.classList.remove('active');
            setTimeout(() => {
                this.titleElement.classList.add('active');
            }, 300);
            this.topContents.forEach((element)=>{
                element.classList.remove('active');
            })
        },
        scrollEvent() {
            const topElement = this.topElement;
            const topContents = this.topContents;
            const headerElement = document.querySelector('header');
            topElement.style.setProperty('--totalContent', topContents.length);
            window.addEventListener('scroll', ()=>{
                const scrollTop = window.scrollY;
                const topElementTop = topElement.offsetTop;
                const topElementHeight = topElement.offsetHeight;
                const headerElementHeight = headerElement.offsetHeight;
                topContents.forEach((_, idx)=>{
                    if(scrollTop > (topElementHeight - window.innerHeight) / topContents.length * idx + headerElementHeight){
                        topContents[idx].classList.add('active');
                    }else{
                        topContents[idx].classList.remove('active');
                    }
                })
                if(scrollTop > topElementTop && scrollTop < topElementHeight + topElementTop){
                    topElement.style.setProperty('--bgY', -((scrollTop - topElementTop) / topElementHeight * 100) + 'px');
                }
            })
        }
    },
    mounted() {
        this.init();
        this.scrollEvent();
    }
}
</script>
<style>
    /* .solutionPage .topArea > div[data-aniType="basic"].active:has( + .active){transform: translateY(-100%);} */
    .solutionPage .topArea div:nth-of-type(3) ul li{opacity: 0; transition-duration: var(--aniDutaion); transition-timing-function: ease-in-out;}
    .solutionPage .topArea div:nth-of-type(3).active ul li{opacity: 1; transition-delay: calc(var(--styleIdx) * var(--aniDelay));}
</style>